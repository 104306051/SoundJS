/**
* SoundJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2012 gskinner.com, inc.
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
* 
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
**/

/**
 * SoundJS FlashPlugin also includes swfobject (http://code.google.com/p/swfobject/)
 */var swfobject=function(){function l(){if(!y){try{var f=d.getElementsByTagName("body")[0].appendChild(d.createElement("span"));f.parentNode.removeChild(f)}catch(a){return}y=!0;for(var f=H.length,c=0;c<f;c++)H[c]()}}function A(f){y?f():H[H.length]=f}function B(f){if(typeof u.addEventListener!=n)u.addEventListener("load",f,!1);else if(typeof d.addEventListener!=n)d.addEventListener("load",f,!1);else if(typeof u.attachEvent!=n){var a=u;a.attachEvent("onload",f);C[C.length]=[a,"onload",f]}else if("function"==
typeof u.onload){var c=u.onload;u.onload=function(){c();f()}}else u.onload=f}function q(){var f=v.length;if(0<f)for(var b=0;b<f;b++){var c=v[b].id,j=v[b].callbackFn,m={success:!1,id:c};if(0<g.pv[0]){var d=s(c);if(d)if(I(v[b].swfVersion)&&!(g.wk&&312>g.wk))z(c,!0),j&&(m.success=!0,m.ref=J(c),j(m));else if(v[b].expressInstall&&a()){m={};m.data=v[b].expressInstall;m.width=d.getAttribute("width")||"0";m.height=d.getAttribute("height")||"0";d.getAttribute("class")&&(m.styleclass=d.getAttribute("class"));
d.getAttribute("align")&&(m.align=d.getAttribute("align"));for(var S={},d=d.getElementsByTagName("param"),k=d.length,p=0;p<k;p++)"movie"!=d[p].getAttribute("name").toLowerCase()&&(S[d[p].getAttribute("name")]=d[p].getAttribute("value"));e(m,S,c,j)}else h(d),j&&j(m)}else if(z(c,!0),j){if((c=J(c))&&typeof c.SetVariable!=n)m.success=!0,m.ref=c;j(m)}}}function J(f){var a=null;if((f=s(f))&&"OBJECT"==f.nodeName)typeof f.SetVariable!=n?a=f:(f=f.getElementsByTagName(w)[0])&&(a=f);return a}function a(){return!K&&
I("6.0.65")&&(g.win||g.mac)&&!(g.wk&&312>g.wk)}function e(f,a,c,j){K=!0;O=j||null;T={success:!1,id:c};var m=s(c);if(m){"OBJECT"==m.nodeName?(F=k(m),L=null):(F=m,L=c);f.id=U;if(typeof f.width==n||!/%$/.test(f.width)&&310>parseInt(f.width,10))f.width="310";if(typeof f.height==n||!/%$/.test(f.height)&&137>parseInt(f.height,10))f.height="137";d.title=d.title.slice(0,47)+" - Flash Player Installation";j=g.ie&&g.win?"ActiveX":"PlugIn";j="MMredirectURL="+encodeURI(window.location).toString().replace(/&/g,
"%26")+"&MMplayerType="+j+"&MMdoctitle="+d.title;a.flashvars=typeof a.flashvars!=n?a.flashvars+("&"+j):j;g.ie&&(g.win&&4!=m.readyState)&&(j=d.createElement("div"),c+="SWFObjectNew",j.setAttribute("id",c),m.parentNode.insertBefore(j,m),m.style.display="none",function(){4==m.readyState?m.parentNode.removeChild(m):setTimeout(arguments.callee,10)}());P(f,a,c)}}function h(f){if(g.ie&&g.win&&4!=f.readyState){var a=d.createElement("div");f.parentNode.insertBefore(a,f);a.parentNode.replaceChild(k(f),a);f.style.display=
"none";(function(){4==f.readyState?f.parentNode.removeChild(f):setTimeout(arguments.callee,10)})()}else f.parentNode.replaceChild(k(f),f)}function k(f){var a=d.createElement("div");if(g.win&&g.ie)a.innerHTML=f.innerHTML;else if(f=f.getElementsByTagName(w)[0])if(f=f.childNodes)for(var c=f.length,j=0;j<c;j++)!(1==f[j].nodeType&&"PARAM"==f[j].nodeName)&&8!=f[j].nodeType&&a.appendChild(f[j].cloneNode(!0));return a}function P(a,b,c){var j,m=s(c);if(g.wk&&312>g.wk)return j;if(m)if(typeof a.id==n&&(a.id=
c),g.ie&&g.win){var e="",h;for(h in a)a[h]!=Object.prototype[h]&&("data"==h.toLowerCase()?b.movie=a[h]:"styleclass"==h.toLowerCase()?e+=' class="'+a[h]+'"':"classid"!=h.toLowerCase()&&(e+=" "+h+'="'+a[h]+'"'));h="";for(var k in b)b[k]!=Object.prototype[k]&&(h+='<param name="'+k+'" value="'+b[k]+'" />');m.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+e+">"+h+"</object>";M[M.length]=a.id;j=s(a.id)}else{k=d.createElement(w);k.setAttribute("type",N);for(var p in a)a[p]!=Object.prototype[p]&&
("styleclass"==p.toLowerCase()?k.setAttribute("class",a[p]):"classid"!=p.toLowerCase()&&k.setAttribute(p,a[p]));for(e in b)b[e]!=Object.prototype[e]&&"movie"!=e.toLowerCase()&&(a=k,h=e,p=b[e],c=d.createElement("param"),c.setAttribute("name",h),c.setAttribute("value",p),a.appendChild(c));m.parentNode.replaceChild(k,m);j=k}return j}function V(a){var b=s(a);b&&"OBJECT"==b.nodeName&&(g.ie&&g.win?(b.style.display="none",function(){if(4==b.readyState){var c=s(a);if(c){for(var j in c)"function"==typeof c[j]&&
(c[j]=null);c.parentNode.removeChild(c)}}else setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function s(a){var b=null;try{b=d.getElementById(a)}catch(c){}return b}function I(a){var b=g.pv;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return b[0]>a[0]||b[0]==a[0]&&b[1]>a[1]||b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]?!0:!1}function W(a,b,c,j){if(!g.ie||!g.mac){var e=d.getElementsByTagName("head")[0];if(e){c=c&&"string"==typeof c?c:"screen";j&&(Q=
r=null);if(!r||Q!=c)j=d.createElement("style"),j.setAttribute("type","text/css"),j.setAttribute("media",c),r=e.appendChild(j),g.ie&&(g.win&&typeof d.styleSheets!=n&&0<d.styleSheets.length)&&(r=d.styleSheets[d.styleSheets.length-1]),Q=c;g.ie&&g.win?r&&typeof r.addRule==w&&r.addRule(a,b):r&&typeof d.createTextNode!=n&&r.appendChild(d.createTextNode(a+" {"+b+"}"))}}}function z(a,b){if(X){var c=b?"visible":"hidden";y&&s(a)?s(a).style.visibility=c:W("#"+a,"visibility:"+c)}}function Y(a){return null!=/[\\\"<>\.;]/.exec(a)&&
typeof encodeURIComponent!=n?encodeURIComponent(a):a}var n="undefined",w="object",N="application/x-shockwave-flash",U="SWFObjectExprInst",u=window,d=document,x=navigator,Z=!1,H=[function(){if(Z){var a=d.getElementsByTagName("body")[0],b=d.createElement(w);b.setAttribute("type",N);var c=a.appendChild(b);if(c){var e=0;(function(){if(typeof c.GetVariable!=n){var d=c.GetVariable("$version");d&&(d=d.split(" ")[1].split(","),g.pv=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)])}else if(10>e){e++;
setTimeout(arguments.callee,10);return}a.removeChild(b);c=null;q()})()}else q()}else q()}],v=[],M=[],C=[],F,L,O,T,y=!1,K=!1,r,Q,X=!0,g,aa=typeof d.getElementById!=n&&typeof d.getElementsByTagName!=n&&typeof d.createElement!=n,D=x.userAgent.toLowerCase(),E=x.platform.toLowerCase(),ba=E?/win/.test(E):/win/.test(D),E=E?/mac/.test(E):/mac/.test(D),D=/webkit/.test(D)?parseFloat(D.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,R=!+"\v1",G=[0,0,0],t=null;if(typeof x.plugins!=n&&typeof x.plugins["Shockwave Flash"]==
w){if((t=x.plugins["Shockwave Flash"].description)&&!(typeof x.mimeTypes!=n&&x.mimeTypes[N]&&!x.mimeTypes[N].enabledPlugin))Z=!0,R=!1,t=t.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),G[0]=parseInt(t.replace(/^(.*)\..*$/,"$1"),10),G[1]=parseInt(t.replace(/^.*\.(.*)\s.*$/,"$1"),10),G[2]=/[a-zA-Z]/.test(t)?parseInt(t.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}else if(typeof u.ActiveXObject!=n)try{var $=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if($&&(t=$.GetVariable("$version")))R=!0,t=t.split(" ")[1].split(","),
G=[parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10)]}catch(ca){}g={w3:aa,pv:G,wk:D,ie:R,win:ba,mac:E};g.w3&&((typeof d.readyState!=n&&"complete"==d.readyState||typeof d.readyState==n&&(d.getElementsByTagName("body")[0]||d.body))&&l(),y||(typeof d.addEventListener!=n&&d.addEventListener("DOMContentLoaded",l,!1),g.ie&&g.win&&(d.attachEvent("onreadystatechange",function(){"complete"==d.readyState&&(d.detachEvent("onreadystatechange",arguments.callee),l())}),u==top&&function(){if(!y){try{d.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,
0);return}l()}}()),g.wk&&function(){y||(/loaded|complete/.test(d.readyState)?l():setTimeout(arguments.callee,0))}(),B(l)));g.ie&&g.win&&window.attachEvent("onunload",function(){for(var a=C.length,b=0;b<a;b++)C[b][0].detachEvent(C[b][1],C[b][2]);a=M.length;for(b=0;b<a;b++)V(M[b]);for(var c in g)g[c]=null;g=null;for(var d in swfobject)swfobject[d]=null;swfobject=null});return{registerObject:function(a,b,c,d){if(g.w3&&a&&b){var e={};e.id=a;e.swfVersion=b;e.expressInstall=c;e.callbackFn=d;v[v.length]=
e;z(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){if(g.w3)return J(a)},embedSWF:function(f,b,c,d,h,k,l,t,p,s){var u={success:!1,id:b};g.w3&&!(g.wk&&312>g.wk)&&f&&b&&c&&d&&h?(z(b,!1),A(function(){c+="";d+="";var g={};if(p&&typeof p===w)for(var r in p)g[r]=p[r];g.data=f;g.width=c;g.height=d;r={};if(t&&typeof t===w)for(var q in t)r[q]=t[q];if(l&&typeof l===w)for(var v in l)r.flashvars=typeof r.flashvars!=n?r.flashvars+("&"+v+"="+l[v]):v+"="+l[v];if(I(h))q=P(g,r,b),g.id==b&&z(b,!0),u.success=
!0,u.ref=q;else{if(k&&a()){g.data=k;e(g,r,b,s);return}z(b,!0)}s&&s(u)})):s&&s(u)},switchOffAutoHideShow:function(){X=!1},ua:g,getFlashPlayerVersion:function(){return{major:g.pv[0],minor:g.pv[1],release:g.pv[2]}},hasFlashPlayerVersion:I,createSWF:function(a,b,c){if(g.w3)return P(a,b,c)},showExpressInstall:function(f,b,c,d){g.w3&&a()&&e(f,b,c,d)},removeSWF:function(a){g.w3&&V(a)},createCSS:function(a,b,c,d){g.w3&&W(a,b,c,d)},addDomLoadEvent:A,addLoadEvent:B,getQueryParamValue:function(a){var b=d.location.search||
d.location.hash;if(b){/\?/.test(b)&&(b=b.split("?")[1]);if(null==a)return Y(b);for(var b=b.split("&"),c=0;c<b.length;c++)if(b[c].substring(0,b[c].indexOf("="))==a)return Y(b[c].substring(b[c].indexOf("=")+1))}return""},expressInstallCallback:function(){if(K){var a=s(U);a&&F&&(a.parentNode.replaceChild(F,a),L&&(z(L,!0),g.ie&&g.win&&(F.style.display="block")),O&&O(T));K=!1}}}}();this.createjs=this.createjs||{};
(function(){function l(){this.init()}function A(a,e,h,k){this.init(a,e,h,k)}function B(a,e,h){this.init(a,e,h)}l.capabilities=null;l.BASE_PATH="src/SoundJS/";l.isSupported=function(){if(createjs.Sound.BrowserDetect.isIOS)return!1;l.generateCapabilities();return null==swfobject?!1:swfobject.hasFlashPlayerVersion("9.0.0")};l.generateCapabilities=function(){null==l.capabilities&&(l.capabilities={panning:!0,volume:!0,tracks:-1,mp3:!0,ogg:!1,mpeg:!0,wav:!0,m4a:!0,mp4:!0,aiff:!1,wma:!1,mid:!1})};var q=
l.prototype={audioSources:null,volume:1,CONTAINER_ID:"flashAudioContainer",WRAPPER_ID:"SoundJSFlashContainer",capabilities:null,container:null,flash:null,flashReady:!1,flashInstances:null,flashPreloadInstances:null,preloadInstances:null,queuedInstances:null,showOutput:!1,init:function(){this.capabilities=l.capabilities;this.audioSources={};this.flashInstances={};this.flashPreloadInstances={};this.preloadInstances={};this.queuedInstances=[];var a=this.wrapper=document.createElement("div");a.id=this.WRAPPER_ID;
a.style.position="absolute";a.style.marginLeft="-1px";a.className=this.WRAPPER_ID;document.body.appendChild(a);var e=this.container=document.createElement("div");e.id=this.CONTAINER_ID;e.appendChild(document.createTextNode("SoundJS Flash Container"));a.appendChild(e);swfobject.embedSWF(l.BASE_PATH+"FlashAudioPlugin.swf",this.CONTAINER_ID,"1","1","9.0.0",null,null,null,null,createjs.proxy(this.handleSWFReady,this))},handleSWFReady:function(a){this.flash=a.ref;this.loadTimeout=setTimeout(createjs.proxy(this.handleTimeout,
this),2E3)},handleFlashReady:function(){this.flashReady=!0;for(var a=0,e=this.queuedInstances.length;a<e;a++)this.flash.register(this.queuedInstances[a]);this.queuedInstances.length=0;for(var h in this.flashPreloadInstances)this.flashPreloadInstances[h].initialize(this.flash);for(h in this.preloadInstances)this.preloadInstances[h].initialize(this.flash);this.preloadInstances={};for(h in this.flashInstances)this.flashInstances[h].initialize(this.flash)},handleTimeout:function(){},register:function(a){this.audioSources[a]=
!0;this.flashReady?this.flash.register(a):this.queuedInstances.push(a);return{tag:new B(a,this,this.flash)}},removeSound:function(a){delete this.audioSources[a];a=createjs.indexOf(this.queuedInstances,a);-1!=a&&this.queuedInstances.splice(a,1)},removeAllSounds:function(){this.audioSources={};this.queuedInstances.length=0;this.flashInstances={};this.flashPreloadInstances={};this.preloadInstances={}},create:function(a){this.isPreloadStarted(a)||this.preload(a);try{return new A(a,this,this.flash,this.audioSources[a])}catch(e){}return null},
isPreloadStarted:function(a){return null!=this.audioSources[a]},preload:function(a,e,h){this.audioSources[a]=!0;e=new B(a,this,this.flash);null!=h&&(e.src=h+a);e.load()},registerLoadedSrc:function(a,e){this.audioSources[e]=a},setVolume:function(a){this.volume=a;return this.updateVolume()},updateVolume:function(){return this.flash.setMasterVolume(createjs.Sound.masterMute?0:this.volume)},getVolume:function(){return this.volume},setMute:function(){return this.updateVolume()},registerPreloadInstance:function(a,
e){this.flashPreloadInstances[a]=e},unregisterPreloadInstance:function(a){delete this.flashPreloadInstances[a]},registerSoundInstance:function(a,e){this.flashInstances[a]=e},unregisterSoundInstance:function(a){delete this.flashInstances[a]},flashLog:function(a){try{this.showOutput&&console.log(a)}catch(e){}},handleSoundEvent:function(a,e){var h=this.flashInstances[a];if(null!=h){for(var k=[],l=2,q=arguments.length;l<q;l++)k.push(arguments[l]);try{if(0==k.length)h[e]();else h[e].apply(h,k)}catch(s){}}},
handlePreloadEvent:function(a,e){var h=this.flashPreloadInstances[a];if(null!=h){for(var k=[],l=2,q=arguments.length;l<q;l++)k.push(arguments[l]);try{if(0==k.length)h[e]();else h[e].apply(h,k)}catch(s){}}},handleEvent:function(a){switch(a){case "ready":clearTimeout(this.loadTimeout),this.handleFlashReady()}},handleErrorEvent:function(){},toString:function(){return"[FlashPlugin]"}};createjs.FlashPlugin=l;q=A.prototype={src:null,flashSrc:null,uniqueId:-1,owner:null,capabilities:null,flash:null,flashId:null,
loop:0,_volume:1,_pan:0,offset:0,duration:0,delayTimeoutId:null,muted:!1,paused:!1,addEventListener:null,removeEventListener:null,removeAllEventListeners:null,dispatchEvent:null,hasEventListener:null,_listeners:null,init:function(a,e,h,k){this.src=a;this.flashSrc=k;this.owner=e;this.flash=h},initialize:function(a){this.flash=a},interrupt:function(){this.playState=createjs.Sound.PLAY_INTERRUPTED;this.flash.interrupt(this.flashId);this.cleanUp();this.paused=!1;this.sendEvent("interrupted")},cleanUp:function(){clearTimeout(this.delayTimeoutId);
this.owner.unregisterSoundInstance(this.flashId);createjs.Sound.playFinished(this)},play:function(a,e,h,k,l,q){createjs.Sound.playInstance(this,a,e,h,k,l,q)},beginPlaying:function(a,e,h,k){this.loop=e;this.paused=!1;if(!this.owner.flashReady)return!1;this.offset=a;this.flashId=this.flash.playSound(this.flashSrc,a,e,h,k);if(null==this.flashId)return this.cleanUp(),!1;this.muted&&this.setMute(!0);this.playState=createjs.Sound.PLAY_SUCCEEDED;this.owner.registerSoundInstance(this.flashId,this);this.sendEvent("succeeded");
return!0},playFailed:function(){this.playState=createjs.Sound.PLAY_FAILED;this.cleanUp();this.sendEvent("failed")},pause:function(){return!this.paused&&this.playState==createjs.Sound.PLAY_SUCCEEDED?(this.paused=!0,clearTimeout(this.delayTimeoutId),this.flash.pauseSound(this.flashId)):!1},resume:function(){if(!this.paused)return!1;this.paused=!1;return this.flash.resumeSound(this.flashId)},stop:function(){this.playState=createjs.Sound.PLAY_FINISHED;this.paused=!1;this.offset=0;var a=this.flash.stopSound(this.flashId);
this.cleanUp();return a},setVolume:function(a){if(null!=Number(a))return this._volume=a=Math.max(0,Math.min(1,a)),this.flash.setVolume(this.flashId,a)},getVolume:function(){return this._volume},setMute:function(a){return(this.muted=a)?this.flash.muteSound(this.flashId):this.flash.unmuteSound(this.flashId)},getMute:function(){return this.muted},getPan:function(){return this._pan},setPan:function(a){if(null!=Number(a))return this._pan=a=Math.max(-1,Math.min(1,a)),this.flash.setPan(this.flashId,a)},
getPosition:function(){var a=-1;this.flash&&this.flashId&&(a=this.flash.getPosition(this.flashId));-1!=a&&(this.offset=a);return this.offset},setPosition:function(a){this.offset=a;this.flash&&this.flashId&&this.flash.setPosition(this.flashId,a);return!0},getDuration:function(){var a=-1;this.flash&&this.flashId&&(a=this.flash.getDuration(this.flashId));-1!=a&&(this.duration=a);return this.duration},sendEvent:function(a){a=new createjs.Event(a);this.dispatchEvent(a)},handleSoundFinished:function(){this.playState=
createjs.Sound.PLAY_FINISHED;this.cleanUp();this.sendEvent("complete")},handleSoundLoop:function(){this.sendEvent("loop")},toString:function(){return"[FlashPlugin SoundInstance]"}};try{Object.defineProperty(q,"volume",{get:function(){return this._volume},set:function(a){if(null!=Number(a))return this._volume=a=Math.max(0,Math.min(1,a)),this.flash.setVolume(this.flashId,a)}}),Object.defineProperty(q,"pan",{get:function(){return this._pan},set:function(a){if(null!=Number(a))return this._pan=a=Math.max(-1,
Math.min(1,a)),this.flash.setPan(this.flashId,a)}})}catch(J){}createjs.EventDispatcher.initialize(A.prototype);q=B.prototype={flash:null,src:null,originalSrc:null,flashId:null,progress:-1,readyState:0,loading:!1,owner:null,onload:null,onprogress:null,onerror:null,init:function(a,e,h){this.originalSrc=this.src=a;this.owner=e;this.flash=h},initialize:function(a){this.flash=a;this.loading&&(this.loading=!1,this.load(this.src))},load:function(a){null!=a&&(this.src=a);if(null==this.flash||!this.owner.flashReady)return this.loading=
!0,this.owner.preloadInstances[this.src]=this,!1;this.flashId=this.flash.preload(this.src);this.owner.registerPreloadInstance(this.flashId,this);return!0},handleProgress:function(a,e){this.progress=a/e;this.onprogress&&this.onprogress({loaded:a,total:e,progress:this.progress})},handleComplete:function(){this.progress=1;this.readyState=4;this.owner.registerLoadedSrc(this.src,this.originalSrc);createjs.Sound.sendFileLoadEvent(this.originalSrc);this.onload&&this.onload()},handleError:function(a){this.onerror&&
this.onerror(a)},toString:function(){return"[FlashPlugin SoundLoader]"}}})();this.createjs=this.createjs||{};(function(){createjs.FlashPlugin=createjs.FlashPlugin||{};o.version="NEXT";o.buildDate="Fri, 11 Jan 2013 22:39:59 GMT"})();
