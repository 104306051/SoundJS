/**
* SoundJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2012 gskinner.com, inc.
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
* 
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
**/

/**
 * SoundJS FlashPlugin also includes swfobject (http://code.google.com/p/swfobject/)
 */var swfobject=function(){function g(){if(!z){try{var j=d.getElementsByTagName("body")[0].appendChild(d.createElement("span"));j.parentNode.removeChild(j)}catch(a){return}z=!0;for(var j=J.length,c=0;c<j;c++)J[c]()}}function B(j){z?j():J[J.length]=j}function C(j){if(typeof s.addEventListener!=m)s.addEventListener("load",j,!1);else if(typeof d.addEventListener!=m)d.addEventListener("load",j,!1);else if(typeof s.attachEvent!=m){var a=s;a.attachEvent("onload",j);D[D.length]=[a,"onload",j]}else if("function"==
typeof s.onload){var c=s.onload;s.onload=function(){c();j()}}else s.onload=j}function n(){var j=u.length;if(0<j)for(var b=0;b<j;b++){var c=u[b].id,k=u[b].callbackFn,l={success:!1,id:c};if(0<f.pv[0]){var d=r(c);if(d)if(K(u[b].swfVersion)&&!(f.wk&&312>f.wk))A(c,!0),k&&(l.success=!0,l.ref=L(c),k(l));else if(u[b].expressInstall&&a()){l={};l.data=u[b].expressInstall;l.width=d.getAttribute("width")||"0";l.height=d.getAttribute("height")||"0";d.getAttribute("class")&&(l.styleclass=d.getAttribute("class"));
d.getAttribute("align")&&(l.align=d.getAttribute("align"));for(var U={},d=d.getElementsByTagName("param"),g=d.length,p=0;p<g;p++)"movie"!=d[p].getAttribute("name").toLowerCase()&&(U[d[p].getAttribute("name")]=d[p].getAttribute("value"));e(l,U,c,k)}else h(d),k&&k(l)}else if(A(c,!0),k){if((c=L(c))&&typeof c.SetVariable!=m)l.success=!0,l.ref=c;k(l)}}}function L(j){var a=null;if((j=r(j))&&"OBJECT"==j.nodeName)typeof j.SetVariable!=m?a=j:(j=j.getElementsByTagName(v)[0])&&(a=j);return a}function a(){return!M&&
K("6.0.65")&&(f.win||f.mac)&&!(f.wk&&312>f.wk)}function e(j,a,c,k){M=!0;Q=k||null;V={success:!1,id:c};var l=r(c);if(l){"OBJECT"==l.nodeName?(H=E(l),N=null):(H=l,N=c);j.id=W;if(typeof j.width==m||!/%$/.test(j.width)&&310>parseInt(j.width,10))j.width="310";if(typeof j.height==m||!/%$/.test(j.height)&&137>parseInt(j.height,10))j.height="137";d.title=d.title.slice(0,47)+" - Flash Player Installation";k=f.ie&&f.win?"ActiveX":"PlugIn";k="MMredirectURL="+encodeURI(window.location).toString().replace(/&/g,
"%26")+"&MMplayerType="+k+"&MMdoctitle="+d.title;a.flashvars=typeof a.flashvars!=m?a.flashvars+("&"+k):k;f.ie&&(f.win&&4!=l.readyState)&&(k=d.createElement("div"),c+="SWFObjectNew",k.setAttribute("id",c),l.parentNode.insertBefore(k,l),l.style.display="none",function(){4==l.readyState?l.parentNode.removeChild(l):setTimeout(arguments.callee,10)}());R(j,a,c)}}function h(j){if(f.ie&&f.win&&4!=j.readyState){var a=d.createElement("div");j.parentNode.insertBefore(a,j);a.parentNode.replaceChild(E(j),a);j.style.display=
"none";(function(){4==j.readyState?j.parentNode.removeChild(j):setTimeout(arguments.callee,10)})()}else j.parentNode.replaceChild(E(j),j)}function E(a){var b=d.createElement("div");if(f.win&&f.ie)b.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(v)[0])if(a=a.childNodes)for(var c=a.length,k=0;k<c;k++)!(1==a[k].nodeType&&"PARAM"==a[k].nodeName)&&8!=a[k].nodeType&&b.appendChild(a[k].cloneNode(!0));return b}function R(a,b,c){var k,l=r(c);if(f.wk&&312>f.wk)return k;if(l)if(typeof a.id==m&&(a.id=
c),f.ie&&f.win){var e="",h;for(h in a)a[h]!=Object.prototype[h]&&("data"==h.toLowerCase()?b.movie=a[h]:"styleclass"==h.toLowerCase()?e+=' class="'+a[h]+'"':"classid"!=h.toLowerCase()&&(e+=" "+h+'="'+a[h]+'"'));h="";for(var g in b)b[g]!=Object.prototype[g]&&(h+='<param name="'+g+'" value="'+b[g]+'" />');l.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+e+">"+h+"</object>";O[O.length]=a.id;k=r(a.id)}else{g=d.createElement(v);g.setAttribute("type",P);for(var p in a)a[p]!=Object.prototype[p]&&
("styleclass"==p.toLowerCase()?g.setAttribute("class",a[p]):"classid"!=p.toLowerCase()&&g.setAttribute(p,a[p]));for(e in b)b[e]!=Object.prototype[e]&&"movie"!=e.toLowerCase()&&(a=g,h=e,p=b[e],c=d.createElement("param"),c.setAttribute("name",h),c.setAttribute("value",p),a.appendChild(c));l.parentNode.replaceChild(g,l);k=g}return k}function x(a){var b=r(a);b&&"OBJECT"==b.nodeName&&(f.ie&&f.win?(b.style.display="none",function(){if(4==b.readyState){var c=r(a);if(c){for(var k in c)"function"==typeof c[k]&&
(c[k]=null);c.parentNode.removeChild(c)}}else setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function r(a){var b=null;try{b=d.getElementById(a)}catch(c){}return b}function K(a){var b=f.pv;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return b[0]>a[0]||b[0]==a[0]&&b[1]>a[1]||b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]?!0:!1}function X(a,b,c,k){if(!f.ie||!f.mac){var e=d.getElementsByTagName("head")[0];if(e){c=c&&"string"==typeof c?c:"screen";k&&(S=
t=null);if(!t||S!=c)k=d.createElement("style"),k.setAttribute("type","text/css"),k.setAttribute("media",c),t=e.appendChild(k),f.ie&&(f.win&&typeof d.styleSheets!=m&&0<d.styleSheets.length)&&(t=d.styleSheets[d.styleSheets.length-1]),S=c;f.ie&&f.win?t&&typeof t.addRule==v&&t.addRule(a,b):t&&typeof d.createTextNode!=m&&t.appendChild(d.createTextNode(a+" {"+b+"}"))}}}function A(a,b){if(Y){var c=b?"visible":"hidden";z&&r(a)?r(a).style.visibility=c:X("#"+a,"visibility:"+c)}}function Z(a){return null!=/[\\\"<>\.;]/.exec(a)&&
typeof encodeURIComponent!=m?encodeURIComponent(a):a}var m="undefined",v="object",P="application/x-shockwave-flash",W="SWFObjectExprInst",s=window,d=document,y=navigator,$=!1,J=[function(){if($){var a=d.getElementsByTagName("body")[0],b=d.createElement(v);b.setAttribute("type",P);var c=a.appendChild(b);if(c){var e=0;(function(){if(typeof c.GetVariable!=m){var d=c.GetVariable("$version");d&&(d=d.split(" ")[1].split(","),f.pv=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)])}else if(10>e){e++;
setTimeout(arguments.callee,10);return}a.removeChild(b);c=null;n()})()}else n()}else n()}],u=[],O=[],D=[],H,N,Q,V,z=!1,M=!1,t,S,Y=!0,f,ba=typeof d.getElementById!=m&&typeof d.getElementsByTagName!=m&&typeof d.createElement!=m,F=y.userAgent.toLowerCase(),G=y.platform.toLowerCase(),ca=G?/win/.test(G):/win/.test(F),G=G?/mac/.test(G):/mac/.test(F),F=/webkit/.test(F)?parseFloat(F.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,T=!+"\v1",I=[0,0,0],q=null;if(typeof y.plugins!=m&&typeof y.plugins["Shockwave Flash"]==
v){if((q=y.plugins["Shockwave Flash"].description)&&!(typeof y.mimeTypes!=m&&y.mimeTypes[P]&&!y.mimeTypes[P].enabledPlugin))$=!0,T=!1,q=q.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),I[0]=parseInt(q.replace(/^(.*)\..*$/,"$1"),10),I[1]=parseInt(q.replace(/^.*\.(.*)\s.*$/,"$1"),10),I[2]=/[a-zA-Z]/.test(q)?parseInt(q.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}else if(typeof s.ActiveXObject!=m)try{var aa=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(aa&&(q=aa.GetVariable("$version")))T=!0,q=q.split(" ")[1].split(","),
I=[parseInt(q[0],10),parseInt(q[1],10),parseInt(q[2],10)]}catch(da){}f={w3:ba,pv:I,wk:F,ie:T,win:ca,mac:G};f.w3&&((typeof d.readyState!=m&&"complete"==d.readyState||typeof d.readyState==m&&(d.getElementsByTagName("body")[0]||d.body))&&g(),z||(typeof d.addEventListener!=m&&d.addEventListener("DOMContentLoaded",g,!1),f.ie&&f.win&&(d.attachEvent("onreadystatechange",function(){"complete"==d.readyState&&(d.detachEvent("onreadystatechange",arguments.callee),g())}),s==top&&function(){if(!z){try{d.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,
0);return}g()}}()),f.wk&&function(){z||(/loaded|complete/.test(d.readyState)?g():setTimeout(arguments.callee,0))}(),C(g)));f.ie&&f.win&&window.attachEvent("onunload",function(){for(var a=D.length,b=0;b<a;b++)D[b][0].detachEvent(D[b][1],D[b][2]);a=O.length;for(b=0;b<a;b++)x(O[b]);for(var c in f)f[c]=null;f=null;for(var d in swfobject)swfobject[d]=null;swfobject=null});return{registerObject:function(a,b,c,d){if(f.w3&&a&&b){var e={};e.id=a;e.swfVersion=b;e.expressInstall=c;e.callbackFn=d;u[u.length]=
e;A(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){if(f.w3)return L(a)},embedSWF:function(d,b,c,h,g,E,q,r,p,s){var t={success:!1,id:b};f.w3&&!(f.wk&&312>f.wk)&&d&&b&&c&&h&&g?(A(b,!1),B(function(){c+="";h+="";var f={};if(p&&typeof p===v)for(var w in p)f[w]=p[w];f.data=d;f.width=c;f.height=h;w={};if(r&&typeof r===v)for(var n in r)w[n]=r[n];if(q&&typeof q===v)for(var u in q)w.flashvars=typeof w.flashvars!=m?w.flashvars+("&"+u+"="+q[u]):u+"="+q[u];if(K(g))n=R(f,w,b),f.id==b&&A(b,!0),t.success=
!0,t.ref=n;else{if(E&&a()){f.data=E;e(f,w,b,s);return}A(b,!0)}s&&s(t)})):s&&s(t)},switchOffAutoHideShow:function(){Y=!1},ua:f,getFlashPlayerVersion:function(){return{major:f.pv[0],minor:f.pv[1],release:f.pv[2]}},hasFlashPlayerVersion:K,createSWF:function(a,b,c){if(f.w3)return R(a,b,c)},showExpressInstall:function(d,b,c,h){f.w3&&a()&&e(d,b,c,h)},removeSWF:function(a){f.w3&&x(a)},createCSS:function(a,b,c,d){f.w3&&X(a,b,c,d)},addDomLoadEvent:B,addLoadEvent:C,getQueryParamValue:function(a){var b=d.location.search||
d.location.hash;if(b){/\?/.test(b)&&(b=b.split("?")[1]);if(null==a)return Z(b);for(var b=b.split("&"),c=0;c<b.length;c++)if(b[c].substring(0,b[c].indexOf("="))==a)return Z(b[c].substring(b[c].indexOf("=")+1))}return""},expressInstallCallback:function(){if(M){var a=r(W);a&&H&&(a.parentNode.replaceChild(H,a),N&&(A(N,!0),f.ie&&f.win&&(H.style.display="block")),Q&&Q(V));M=!1}}}}();this.createjs=this.createjs||{};
(function(){function g(){this.init()}function B(a,e,h,g){this.init(a,e,h,g)}function C(a,e,h){this.init(a,e,h)}g.capabilities=null;g.BASE_PATH="src/SoundJS/";g.isSupported=function(){if(createjs.Sound.BrowserDetect.isIOS)return!1;g.generateCapabilities();return null==swfobject?!1:swfobject.hasFlashPlayerVersion("9.0.0")};g.generateCapabilities=function(){null==g.capabilities&&(g.capabilities={panning:!0,volume:!0,tracks:-1,mp3:!0,ogg:!1,mpeg:!0,wav:!0,m4a:!0,mp4:!0,aiff:!1,wma:!1,mid:!1})};var n=
g.prototype={audioSources:null,volume:1,CONTAINER_ID:"flashAudioContainer",WRAPPER_ID:"SoundJSFlashContainer",capabilities:null,container:null,flash:null,flashReady:!1,flashInstances:null,flashPreloadInstances:null,preloadInstances:null,queuedInstances:null,showOutput:!1,init:function(){this.capabilities=g.capabilities;this.audioSources={};this.flashInstances={};this.flashPreloadInstances={};this.preloadInstances={};this.queuedInstances=[];var a=this.wrapper=document.createElement("div");a.id=this.WRAPPER_ID;
a.style.position="absolute";a.style.marginLeft="-1px";a.className=this.WRAPPER_ID;document.body.appendChild(a);var e=this.container=document.createElement("div");e.id=this.CONTAINER_ID;e.appendChild(document.createTextNode("SoundJS Flash Container"));a.appendChild(e);swfobject.embedSWF(g.BASE_PATH+"FlashAudioPlugin.swf",this.CONTAINER_ID,"1","1","9.0.0",null,null,null,null,createjs.proxy(this.handleSWFReady,this))},handleSWFReady:function(a){this.flash=a.ref;this.loadTimeout=setTimeout(createjs.proxy(this.handleTimeout,
this),2E3)},handleFlashReady:function(){this.flashReady=!0;for(var a=0,e=this.queuedInstances.length;a<e;a++)this.flash.register(this.queuedInstances[a]);this.queuedInstances.length=0;for(var h in this.flashPreloadInstances)this.flashPreloadInstances[h].initialize(this.flash);for(h in this.preloadInstances)this.preloadInstances[h].initialize(this.flash);this.preloadInstances={};for(h in this.flashInstances)this.flashInstances[h].initialize(this.flash)},handleTimeout:function(){},register:function(a){this.audioSources[a]=
!0;this.flashReady?this.flash.register(a):this.queuedInstances.push(a);return{tag:new C(a,this,this.flash)}},removeSound:function(a){delete this.audioSources[a];a=this.queuedInstances.indexOf(a);-1!=a&&this.queuedInstances.splice(a,1)},removeAllSounds:function(){this.audioSources={};this.queuedInstances.length=0;this.flashInstances={};this.flashPreloadInstances={};this.preloadInstances={}},create:function(a){this.isPreloadStarted(a)||this.preload(a);try{return new B(a,this,this.flash,this.audioSources[a])}catch(e){}return null},
isPreloadStarted:function(a){return null!=this.audioSources[a]},preload:function(a,e,h){this.audioSources[a]=!0;e=new C(a,this,this.flash);null!=h&&(e.src=h+a);e.load()},registerLoadedSrc:function(a,e){this.audioSources[e]=a},setVolume:function(a){this.volume=a;return this.updateVolume()},updateVolume:function(){return this.flash.setMasterVolume(createjs.Sound.masterMute?0:this.volume)},getVolume:function(){return this.volume},setMute:function(){return this.updateVolume()},registerPreloadInstance:function(a,
e){this.flashPreloadInstances[a]=e},unregisterPreloadInstance:function(a){delete this.flashPreloadInstances[a]},registerSoundInstance:function(a,e){this.flashInstances[a]=e},unregisterSoundInstance:function(a){delete this.flashInstances[a]},flashLog:function(a){try{this.showOutput&&console.log(a)}catch(e){}},handleSoundEvent:function(a,e){var h=this.flashInstances[a];if(null!=h){for(var g=[],n=2,x=arguments.length;n<x;n++)g.push(arguments[n]);try{if(0==g.length)h[e]();else h[e].apply(h,g)}catch(r){}}},
handlePreloadEvent:function(a,e){var h=this.flashPreloadInstances[a];if(null!=h){for(var g=[],n=2,x=arguments.length;n<x;n++)g.push(arguments[n]);try{if(0==g.length)h[e]();else h[e].apply(h,g)}catch(r){}}},handleEvent:function(a){switch(a){case "ready":clearTimeout(this.loadTimeout),this.handleFlashReady()}},handleErrorEvent:function(){},toString:function(){return"[FlashPlugin]"}};createjs.FlashPlugin=g;n=B.prototype={src:null,flashSrc:null,uniqueId:-1,owner:null,capabilities:null,flash:null,flashId:null,
loop:0,_volume:1,_pan:0,offset:0,duration:0,delayTimeoutId:null,muted:!1,paused:!1,addEventListener:null,removeEventListener:null,removeAllEventListeners:null,dispatchEvent:null,hasEventListener:null,_listeners:null,onComplete:null,onLoop:null,onReady:null,onPlayFailed:null,onPlayInterrupted:null,onPlaySucceeded:null,init:function(a,e,h,g){this.src=a;this.flashSrc=g;this.owner=e;this.flash=h},initialize:function(a){this.flash=a},interrupt:function(){this.playState=createjs.Sound.PLAY_INTERRUPTED;
this.flash.interrupt(this.flashId);this.cleanUp();this.paused=!1;this.sendEvent("interrupted")},cleanUp:function(){clearTimeout(this.delayTimeoutId);this.owner.unregisterSoundInstance(this.flashId);createjs.Sound.playFinished(this)},play:function(a,e,h,g,n,x){createjs.Sound.playInstance(this,a,e,h,g,n,x)},beginPlaying:function(a,e,h,g){this.loop=e;this.paused=!1;if(!this.owner.flashReady)return!1;this.offset=a;this.flashId=this.flash.playSound(this.flashSrc,a,e,h,g);if(null==this.flashId)return this.cleanUp(),
!1;this.muted&&this.setMute(!0);this.playState=createjs.Sound.PLAY_SUCCEEDED;this.owner.registerSoundInstance(this.flashId,this);this.sendEvent("succeeded");return!0},playFailed:function(){this.playState=createjs.Sound.PLAY_FAILED;this.cleanUp();this.sendEvent("failed")},pause:function(){return!this.paused&&this.playState==createjs.Sound.PLAY_SUCCEEDED?(this.paused=!0,clearTimeout(this.delayTimeoutId),this.flash.pauseSound(this.flashId)):!1},resume:function(){if(!this.paused)return!1;this.paused=
!1;return this.flash.resumeSound(this.flashId)},stop:function(){this.playState=createjs.Sound.PLAY_FINISHED;this.paused=!1;this.offset=0;var a=this.flash.stopSound(this.flashId);this.cleanUp();return a},setVolume:function(a){if(null!=Number(a))return this._volume=a=Math.max(0,Math.min(1,a)),this.flash.setVolume(this.flashId,a)},getVolume:function(){return this._volume},mute:function(a){return(this.muted=a)?this.flash.muteSound(this.flashId):this.flash.unmuteSound(this.flashId)},setMute:function(a){return(this.muted=
a)?this.flash.muteSound(this.flashId):this.flash.unmuteSound(this.flashId)},getMute:function(){return this.muted},getPan:function(){return this._pan},setPan:function(a){if(null!=Number(a))return this._pan=a=Math.max(-1,Math.min(1,a)),this.flash.setPan(this.flashId,a)},getPosition:function(){var a=-1;this.flash&&this.flashId&&(a=this.flash.getPosition(this.flashId));-1!=a&&(this.offset=a);return this.offset},setPosition:function(a){this.offset=a;this.flash&&this.flashId&&this.flash.setPosition(this.flashId,
a);return!0},getDuration:function(){var a=-1;this.flash&&this.flashId&&(a=this.flash.getDuration(this.flashId));-1!=a&&(this.duration=a);return this.duration},sendEvent:function(a){a=new createjs.Event(a);this.dispatchEvent(a)},handleSoundFinished:function(){this.playState=createjs.Sound.PLAY_FINISHED;this.cleanUp();this.sendEvent("complete")},handleSoundLoop:function(){this.sendEvent("loop")},toString:function(){return"[FlashPlugin SoundInstance]"}};try{Object.defineProperty(n,"volume",{get:function(){return this._volume},
set:function(a){if(null!=Number(a))return this._volume=a=Math.max(0,Math.min(1,a)),this.flash.setVolume(this.flashId,a)}}),Object.defineProperty(n,"pan",{get:function(){return this._pan},set:function(a){if(null!=Number(a))return this._pan=a=Math.max(-1,Math.min(1,a)),this.flash.setPan(this.flashId,a)}})}catch(L){}createjs.EventDispatcher.initialize(B.prototype);n=C.prototype={flash:null,src:null,originalSrc:null,flashId:null,progress:-1,readyState:0,loading:!1,owner:null,onload:null,onprogress:null,
onerror:null,init:function(a,e,g){this.originalSrc=this.src=a;this.owner=e;this.flash=g},initialize:function(a){this.flash=a;this.loading&&(this.loading=!1,this.load(this.src))},load:function(a){null!=a&&(this.src=a);if(null==this.flash||!this.owner.flashReady)return this.loading=!0,this.owner.preloadInstances[this.src]=this,!1;this.flashId=this.flash.preload(this.src);this.owner.registerPreloadInstance(this.flashId,this);return!0},handleProgress:function(a,e){this.progress=a/e;this.onprogress&&this.onprogress({loaded:a,
total:e,progress:this.progress})},handleComplete:function(){this.progress=1;this.readyState=4;this.owner.registerLoadedSrc(this.src,this.originalSrc);createjs.Sound.sendFileLoadEvent(this.originalSrc);this.onload&&this.onload()},handleError:function(a){this.onerror&&this.onerror(a)},toString:function(){return"[FlashPlugin SoundLoader]"}}})();(function(){var g=this.createjs=this.createjs||{},g=g.FlashPlugin=g.FlashPlugin||{};g.version="NEXT";g.buildDate="Fri, 11 Jan 2013 22:39:59 GMT"})();
